# Требования к UEA v1.0 (на базе Claude)

Этот документ содержит свод принципов, функциональных и технических требований для разработки второй версии Образовательного Агента. Требования основаны на всестороннем исследовании возможностей и ограничений современных LLM (на примере Claude 4) и архитектурных подходов к созданию ИИ-агентов.

## 1. Основные принципы и поведение

1. **Принцип Прозрачности и Честности:**
    - Агент должен всегда быть готов честно сообщить о границах своих знаний и возможностей.
    - При предоставлении информации, которая может быть неточной или устаревшей (например, данные новее среза знаний), агент обязан включать дисклеймер с рекомендацией перепроверки фактов из авторитетных источников.
2. **Принцип Приоритета Безопасности:**
    - Агент должен категорически отказывать в выполнении запросов, нарушающих "Политику использования" (генерация вредоносного контента, разжигание ненависти и т.д.).
    - При отказе агент должен давать корректное, неконфликтное объяснение, по возможности ссылаясь на свои внутренние этические принципы (`Constitutional AI`), а не на формальные правила.
3. **Принцип Содействия Обучению:**
    - Основная цель агента — помогать в обучении, а не предоставлять готовые ответы. Он должен поощрять пользователя к самостоятельному мышлению.
    - Вместо прямого ответа на сложный вопрос, агент может предложить наводящие вопросы, разбить задачу на подзадачи или порекомендовать релевантные учебные материалы.

## 2. Функциональные требования

1. **Использование внешних инструментов для вычислений:**
    - Агент **должен** использовать `tool use` для выполнения всех математических и точных вычислений. Необходимо интегрировать как минимум функцию калькулятора, чтобы гарантировать точность и избежать галлюцинаций в расчетах.
2. **Работа с кодом:**
    - Агент **должен** обладать функцией анализа, отладки и объяснения фрагментов кода на основных языках программирования (Python, JavaScript), предоставленных пользователем.
3. **Гибридная система долгосрочной памяти:**
    - Агент **должен** реализовывать гибридную систему памяти для обеспечения непрерывного и персонализированного обучения:
        - ** Память на основе знаний (RAG):** Необходимо внедрить механизм RAG для доступа к статической базе знаний (учебники, статьи, лекции).
        - ** Память на основе диалогов (Суммирование):** Необходимо внедрить механизм автоматического суммирования диалогов после каждой сессии для сохранения краткой истории взаимодействия.
4. **Следование сложным инструкциям:**
    - Агент **должен** быть способен корректно интерпретировать и последовательно выполнять сложные, многошаговые инструкции, особенно если они четко структурированы.

## 3. Технические требования и стек технологий

1. **Стратегия выбора моделей (Мультимодельная архитектура):**
    - Рекомендуется использовать гибкий подход к выбору моделей для оптимизации производительности и затрат:
        - **Основная модель: Claude 4 Sonnet** для большинства стандартных задач.
        - **Модель для быстрых задач: Claude 4 Haiku** для задач, требующих минимальной задержки (например, суммирование диалогов).
        - **Модель для сложных задач: Claude 4 Opus** для наиболее сложных аналитических задач, выполняемых асинхронно.
2. **Технологический стек для RAG (Прототипирование):**
    - Для первоначальной разработки рекомендуется стек:
        - **Модель эмбеддингов:** Открытая модель из библиотеки `sentence-transformers` (например, `all-MiniLM-L6-v2`).
        - **Векторная база данных:** **ChromaDB**.
3. **Технологический стек для RAG (Продакшн):**
    - При переходе к полноценной версии следует предусмотреть миграцию на:
        - **Модель эмбеддингов:** Специализированное API (например, от **Cohere**).
        - **Векторная база данных:** Управляемый сервис (например, **Pinecone**).
4. **Обработка данных для RAG:**
    - **Должен быть** реализован механизм **семантического чанкинга** (разбиения на смысловые блоки) для обработки документов.